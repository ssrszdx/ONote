# 动态语言和静态语言的区别

因为没有从编译代码到执行代码的中间过程,用动态语言编写应用程序可以快速看到输出。

代价是, **动态语言不提供静态语言提供的类型安全特性** ,不得不经常用大量的测试套件来避免在

运行的时候出现类型错误这类 bug。

想象一下,使用类似 JavaScript 这种动态语言开发一个大型应用程序,有一个函数期望接收

一个叫作 ID 的字段。这个参数应该是整数,是字符串,还是一个 UUID?要想知道答案,只能

去看源代码。可以尝试使用一个数字或者字符串来执行这个函数,看看会发生什么。

而在go和java这样的语言中，完全不用为这件事情操心,因为编译器就能帮用户捕获这种类型错误

静态编译优化和动态编译优化最大的不同是他们在编译时所得到的信息量的不同。静态编译在运行程序之前就把所有的执行代码编译完，这时编译器所接受的编译信息量是不够多的。比如说：某个函数是否是大量地被调用了，函数的实参是不是一直是一个常数，等等。

动态编译之于静态编译，缺点是它需要即时编译代码，但是有一个优点---编译器可以获得静态编译期所没有的信息。比如：通过运行时的profiling可以知道哪些函数是被大量使用的。在哪些execution path上哪些函数的参数一直都没有变，等等。不要小看这些信息，当即时编译器了解这些信息之后可以在短时间内编译出比静态编译器更优质的二进制码。举例来说，一般程序也遵循90-10原则，即运行时的90%里计算机是在处理其中10%的代码，寻找到这些执行热点代码进行深度优化能得到比静态编译更好的性能（因为已知更多信息量）。

然而现实是：即时编译的开销非常大，暂时还不能超越静态编译的总体性能。不过，一个动态语言（如JAVA，Python）有着静态语言（如C++）所没有的各种优势，必然是将来程序语言发展的方向。伴随着强大的需求，即时编译器在将来也会更加强大。
